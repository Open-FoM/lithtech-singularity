| ### Content Guide | [ ![](../Images/Logo-s.png) ](http://www.touchdownentertainment.com/jupiter.md) |
| --- | --- |

# Lighting the Map

Jupiter uses a combination of lightmaps and vertex lighting to light worlds. Lights are represented as a combination: A point that shows the origin of the object and a circle, square or cone representing their area of effect.

Lightmaps are textures generated by the processor at world compile time. Lightmaps contain ray-traced lighting information for an individual polygon. Lightmapping can be used on all world geometry, along with world models. It provides detail, but it also requires much more horsepower (an extra pass) to render. Lightmapped polygons are twice as expensive to render as Gouraud shading, the other way of lighting a brush. In this model, brushes are lit by vertex colors, generated at compile time, and gouraud interpolated across the polygons. You can subdivide Gouraud-shaded brushes to add vertices, thus adding detail to the lighting. In most cases, this mode of lighting is highly effective and efficient, and you should try to use it wherever possible. Models are dynamically lit with normal lighting, attenuated with the equations below.

| **Note: ** | This section assumes you have already created the Big1.LTA file in the [Using Brushes ](Brushes.md)tutorial. |
| --- | --- |

---

## Adding a Light to Your Level

#### To add a light to your level

1. Switch back to your Big1.LTA file, or open it if you have closed it.
2. Move the green marker up 64 units above the start location and go back to the Add Object dialog.
3. Select the old one that is surrounded by a large sphere. The sphere is the radius within the level that the light will fill.
4. Go to the Properties tab in the project window and look at the properties of the light. In most cases a simulation object’s properties are the most important tool used to control its behavior. In the case of lights, this is where you can change their size, brightness and color.
5. The light’s current size (set in the LightRadius property) is 300. That’s probably a little small, so change the value to 500 and press the Enter key. In the viewports you’ll see the size of the light radius increase as well. Now it’s large enough to make a good-sized pool of light around the player.

[Top ](#top)

---

## Lighting the Entire Map with a Single Source

There is also an additional lighting resource that is very useful with terrains and large outdoor areas. You can also use a StaticSunLight object to light the entire map with a single source. StaticSunLight objects require a working skybox in order to light the map. Most of their properties are self-explanatory and similar to a DirLight, but without FOV (Field Of View).

The light from a StaticSunLight projects in from the level’s sky portals. The main different property is Bias, which controls the softness of the light when it falls on terrain. Varying the light’s Bias varies the balance between light and shadows from the StaticSunLight.

StaticSunLights will illuminate any brush or model, so a single StaticSunLight can provide all of the main lighting for an entire level if it’s largely open. It is still recommended to place individual point sources around your level for highlighting and fine control.

[Top ](#top)

---

## Interior and Exterior Color Properties

Jupiter is a little unusual in that its lights have both interior (LightColor) and exterior (OuterColor) color properties. By default, the interior color of the light is set to white and the exterior color is set to black. That means that the light starts out as a pure white, then fades out to black at the edge. This becomes useful in areas that have a non-black ambient light, such as a cavern of lava lakes, or an outdoor scene on the savannah in bright daylight. If you wanted to fade a light out more gradually in one of these settings, you could set the exterior color to a mix of black and the ambient light’s color for a slower fall-off.

#### To change the colors

1. Switch back to your Big1.LTA file, or open it if you have closed it.
2. Click on the color sample button next to the property name.
3. Click the white button (LightColor). The dialog that comes up is a standard color picker dialog, and it allows you to pick from a standard palette or create your own custom colors.
4. Choose one of the very light blue colors for something similar to a fluorescent light. You can use the slider on the far right to lighten or darken the color to your taste.
5. When you’re done, close the dialog and you’ll see your new color in place on the LightColor button.
6. The OuterColor property is changed in exactly the same way.
7. Lastly, you can set the brightness of the light using the BrightScale property. At its default setting of 1.0, the light appears at a normal brightness. If you change the value of BrightScale to 0.5, the light’s brightness is halved. However, the radius stays the same. Thus, you can create a very large light that doesn’t overwhelm the area closest to its center. Likewise, if you want an intensely bright light, you can increase the BrightScale value to 2.0, which will make the light much brighter. For now, leave BrightScale as it is.

[Top ](#top)

---

## DirLight

There is another useful type of light with very different behavior from the regular one: The DirLight. While a normal light throws light in a sphere all the way around it, a DirLight acts like a spotlight: It throws light in a cone, the diameter of which you can control.

1. Switch back to your Big1.LTA file, or open it if you have closed it.
2. Switch to the Top viewport and move the marker 256 units (4 lines on a 64-unit grid) down, towards the edge of the platform furthest from your archway.
3. Move the marker 64 units closer to the floor, so that your DirLight will show up better on the floor.
4. Right-click in one of the viewports and select Add Object again.
5. Find the Dirlight class and add one. What you should see is a pyramid-like cone extending from the marker towards the top edge of your platform. The cone represents the area where the light will fall within the game. If you look at the Properties tab, you’ll see that the Dirlight has most of the same properties as your regular light from before, but it has an additional property, FOV, which stands for Field of View. It represents the arc within which the Dirlight actually sheds its light. You can increase this value to widen the pattern or decrease it to reduce the pattern’s width.
6. Change the FOV to 60. You should see the base of the light’s preview cone shrink down in size.

[Top ](#top)

---

## Aiming the Dirlight

You can aim a Dirlight using the object’s Rotation property, or rotate it freehand using the N key and mouse.

Click the button next to the property’s name and you’ll see a dialog appear. Within this dialog, you can control every aspect of the object’s facing. Each of the three aspects has a range between 0 and 359.

Yaw controls the horizontal facing of the object, and is aligned identically to the Top viewport like a compass needle. You can use the preview display at the top of the dialog to see how the results will appear. A setting of 0 points the object straight “north,” towards the top edge of the Top viewport. A setting of 90 would aim “east,” a setting of 135 would point “southeast” towards the lower right corner of the viewport and so on. For now, set the yaw to 180 to spin the Dirlight around so it’s facing the opposite direction.

Pitch controls the vertical angle of the object. The Pitch preview display shows the result of your changes. Since the Dirlight is pointed at the proper angle already, there’s no need to change this.

The Roll control controls the spin of the object. This is useful mainly for props or cameras, where you want the object to bank or its viewpoint to sway. You would change a motorcycle’s Roll, for example, if you wanted it to lean as it turned a sharp corner. Again, there’s no need to change this value in the case of a Dirlight.

You should also increase the LightRadius of the light to 600 to extend the reach of the light a little further.

[Top ](#top)

---

Touchdown Entertainment, Inc. [Send feedback regarding this page. ](mailto:support@touchdownentertainment.com?subject=JupiterDevGuide Feedback: Dedit\Lighting.md)2006, All Rights Reserved.
